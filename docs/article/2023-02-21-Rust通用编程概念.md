---
  title: Rust通用编程概念
  date: 2023-03-15
  sidebar: heading
  breadcrumb: true
  lastUpdated: true
  contributors: true
  editLink: false
  category: Rust
  tag:
    - Rust
---
# 通用编程概念

## 变量与可变性

Rust变量默认不可变，但在变量前加 `mut` 可以使其可变。除了使变量的值可变，`mut`还会像阅读代码的人暗示其他代码可能会改变这个变量的值。

### 变量与常量之间的不同

- 不能用`mut`关键字来修饰常量；
- 使用`const`声明常量，并且必须显式地标注值的类型；`let`声明变量；
- 常量可以被声明在任何作用域中，甚至包括全局作用域；
- 只能将常量绑定到一个常量表达式上，而无法将一个函数的返回值，或其他需要在运行时计算的值绑定到常量上。



### 隐藏

一个新的声明变量可以覆盖旧的同名变量。在Rust中，我们将这一现象描述为：第一个变量被第二个变量隐藏 （shadow）了。可以重复使用let关键字并配以相同的名称来不断地隐藏变量：

```rust
fn main() {
  let x = 5;
  let x = x + 1;
  let x = x * 2;
  println!("The value of x is {}", x);
}
```

#### 隐藏机制与mut的不同之处：

- 不使用let的情况下重新为这个变量赋值，会导致编译错误，通过let，可以对值执行一系列的变换操作之后，还保持了不变形。
- 通过重复使用let关键字会创建出新的变量，可以在复用变量名的同时改变类型。mut声明的变量，则不能改变类型。
