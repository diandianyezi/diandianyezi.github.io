---
title: 空值合并运算符
date: 2022-03-31
sidebar: heading
breadcrumb: true
lastUpdated: true
contributors: true
editLink: false
tag:
  - Javascript
---
##### 空值合并运算符 ??

空值合并运算符的写法为 两个`??`

`a ?? b` 的结果是：

- 如果 `a` 是已定义的，则结果为 `a`，
- 如果 `a` 不是已定义的，则结果为 `b`。

##### 与`||`比较

或运算符`||`可以与`？？`运算符相同的方式使用

区别在于

* || 返回的是第一个真值
* ？？返回第一个已定义（不为null 也不为undefined）的值

> ||` 无法区分 `false`、`0`、空字符串 `""` 和 `null/undefined

##### 优先级

??优先级与||相同，这意味着，就像 `||` 一样，空值合并运算符在 `=` 和 `?` 运算前计算，但在大多数其他运算（例如 `+` 和 `*`）之后计算。

##### ?? 与 && 或 || 一起使用

出于安全原因，JavaScript 禁止将 `??` 运算符与 `&&` 和 `||` 运算符一起使用，除非使用括号明确指定了优先级。

##### 总结

* 空值合并运算符??提供了一种从列表中选择第一个”已定义“值的简便方式。

    它被用于为变量分配默认值：

* ??运算符的优先级非常低，仅高于?和=

* 如果没有明确添加括号，不能将其与|| 或&&一起使用

