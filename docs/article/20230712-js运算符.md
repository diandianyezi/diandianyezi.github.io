---
title: js运算符
date: 2023-07-13
---

# js运算符

## in

用于判断属性是否存在于对象中。

语法：

```js
key in obj
```

- key:一个字符串类型或者 Symbol 类型的属性名或者数组索引（非 Symbol 类型将会强制转为字符串）。
- obj: 检查（或其原型链）是否包含具有指定名称的属性的对象。



- 内置对象、自定义对象都可用in检测属性
- 值为`undefined`的对象属性，也可以判断
- 继承属性，也会返回`true`

## instanceof

用于测试构造函数的prototype属性是否出现在对象的原型链中的任何位置。

```js
target instanceof constructor
```

### 检测类型

instanceof可以检测某个对象是否是另一个对象的实例。

instanceof可以检测父类型。



### 模拟实现

```js
function myInstanceof(left, right) {
  if(left === null || (typeof left !== 'object' && typeof left !== 'function')) return false;
  while(true) {
    if(left === null) return false;
    if(left === right.prototype) return true;
    left = left.__proto__;
  }
}
```



## delete

用于删除对象的某个属性。如果没有指向这个属性的引用了，它最终会被自动地释放。

```js
delete object.property;
delete object['property'];
```



### 返回值

对于所有情况都是true，除非属性是一个自己不可配置的属性，在这种情况下，非严格模式返回false。



### 说明

- 如果对象的原型链上有一个与待删除属性同名的属性，那么删除属性之后，对象会使用原型链上的那个属性（也就是说，`delete` 操作只会在自身的属性上起作用）
- 如果你试图删除的属性**不存在**，那么 `delete` 将不会起任何作用，但仍会返回 `true`
- 任何使用 `var` 声明的属性不能从全局作用域或函数的作用域中删除。
    - 这样的话，`delete` 操作不能删除任何在全局作用域中的函数（无论这个函数是来自于函数声明或函数表达式）
    - 除了在全局作用域中的函数不能被删除，在对象中的函数是能够用 `delete` 操作删除的。
- 任何用 `let` 或 `const` 声明的属性不能够从它被声明的作用域中删除。
- 不可设置的（Non-configurable）属性不能被移除。这意味着像 `Math`、`Array` 和 `Object` 等内置对象的属性以及使用 `Object.defineProperty()` 方法设置为不可设置的属性不能被删除。

## typeof

`typeof` 操作符返回一个字符串，表示未经计算的操作数的类型。

```js
typeof Math.LN2 === 'number';
typeof Infinity === 'number';

typeof Symbol() === 'symbol';
typeof Symbol('foo') === 'symbol';
typeof Symbol.iterator === 'symbol';

typeof null === 'object';
// 从一开始出现 JavaScript 就是这样的
```

